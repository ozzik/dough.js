/*! Dough.js - by Oz Pinhas @ 2015 (Version 0.1.6)
 *  https://ozzik.github.com/dough.js
 *  Licensed under the MIT license. */
!function(){function a(){}function b(b,c){var d=new a,e=[];"string"==typeof b?e=(c||document).querySelectorAll(b):b instanceof NodeList||Array.isArray(b)?e=b:b instanceof HTMLElement&&(e[0]=b);for(var f=0,g=e.length;g>f;f++)d[f]=e[f];return d.length=e.length,d}function c(a,b,c,d){for(var e=c||0,f=void 0!==c?c+1:a.length;f>e;e++)b(a[e],d)}function d(a,b,d,e){d=d.split(" "),c(a,function(a){for(var c=0,e=d.length;e>c;c++)a.classList[b](d[c])},e)}function e(a){var b,c=[];if(a instanceof HTMLElement)return[a];G.innerHTML=a,b=G.childNodes;for(var d=0,e=b.length;e>d;d++)c[d]=b[d];return c}function f(a,b){for(var c=(b?"next":"previous")+"Sibling",d=a[c];d&&d.nodeType!==Node.ELEMENT_NODE;)d=d[c];return d}function g(b,c,d,e){b._crumb?x[b._crumb][c]&&a.prototype.off.apply(this,[c]):b._crumb=y++,x[b._crumb]=x[b._crumb]||{},x[b._crumb][c]=d,b.addEventListener(c,d,e&&e.isCapture)}function h(a,b,c){return(a?a+"&":"")+b+"="+c}function i(a){for(var b=Object.keys(a),c="",d=0,e=b.length;e>d;d++)c=h(c,b[d],a[b[d]]);return c}function j(a,b){a+=b?" god damned it!":"",console.warn?console.warn(a):console.log(a)}function k(){var a=navigator.userAgent.toLowerCase(),b="";return-1!==a.indexOf("webkit")?(b="webkit",stylePrefix="webkit",F.isWebkit=!0):-1!==a.indexOf("trident")?(b="ms",stylePrefix="ms",F.isTrident=!0):-1!==a.indexOf("firefox")&&(b="moz",stylePrefix="Moz",F.isGecko=!0),{engine:b,stylePrefix:stylePrefix}}function l(a){return A[a]&&-1!==A[a].indexOf(v)?"-"+v+"-"+a:a}function m(a){return-1!==z[a].indexOf(v)?v+a:a.toLowerCase()}function n(){document.body.addEventListener(m("TransitionEnd"),function(a){if(C[a.propertyName]){var b=B[a.target._tCrumb];b&&(b.finished++,b.finished==b.required&&(delete B[a.target._tCrumb],C[a.property]--,b.callback&&setTimeout(b.callback,b.delay||0)))}}),t=!0}function o(){document.body.addEventListener(m("AnimationEnd"),function(a){a.animationName===E.name&&(E.finished++,E.finished==E.required&&(E.name=null,E.delay?setTimeout(E.callback,E.delay):E.callback(),E={}))}),u=!0}function p(a){return b(a)}var q,r,s,t,u,v,w,x={},y=1,z={AnimationEnd:["webkit"],TransitionEnd:["webkit"]},A={transform:["webkit"]},B={},C={},D=1,E={},F={isWebkit:!1,isGecko:!1,isTrident:!1,isTouch:!1},G=document.createElement("div");a.prototype={find:function(a){return b(a,this[0])},next:function(){return p(f(this[0],!0))},previous:function(){return p(f(this[0]))},addClass:function(a,b){return d(this,"add",a.trim(),b),this},removeClass:function(a,b){return d(this,"remove",a.trim(),b),this},toggleClass:function(a,b,c){var e="toggle";return"boolean"==typeof b?e=b?"add":"remove":c=b,d(this,e,a.trim(),c),this},hasClass:function(a,b){var c=!0;a=a.split(" ");for(var d=b||0,e=void 0!==b?b+1:this.length;e>d;d++)for(var f=0,g=a.length;g>f&&c;f++)c=c&&this[d].classList.contains(a[f]);return c},css:function(a,b,d){var e=[];return"object"==typeof a?(e=Object.keys(a),d=b):(e=[a],a={},a[e[0]]=b?b:""),c(this,function(b){for(var c=0,d=e.length;d>c;c++)b.style[e[c]]=a[e[c]];a||b.removeAttribute("style")},d),this},transform:function(a,b){return c(this,function(b){b.style[w+"Transform"]=a},b),this},translate:function(a,b,d,e){return c(this,function(c){c.style[w+"Transform"]="translate3d("+(a||0)+"px,"+(b||0)+"px,"+(d||0)+"px)"},e),this},attr:function(a,b,d){return c(this,function(c){c[(void 0!==b?"set":"remove")+"Attribute"](a,b)},d),this},html:function(a,b){return void 0===a?void log("Use .innerHTML",!0):(c(this,function(b){b.innerHTML=a},b),this)},before:function(a,b){return a=e(a),c(this,function(b){for(var c=0,d=a.length;d>c;c++)b.parentNode.insertBefore(a[c].cloneNode(!0),b)},b),this},after:function(a,b){var d;return a=e(a),c(this,function(b){d=f(b,!0);for(var c=0,e=a.length;e>c;c++)d?b.parentNode.insertBefore(a[c].cloneNode(!0),d):b.parentNode.appendChild(a[c].cloneNode(!0))},b),this},on:function(a,b,d,e){return e="object"!=typeof d?d:e,c(this,function(c){g(c,a,b,d)},e),this},off:function(a,b){return c(this,function(b){b._crumb&&x[b._crumb][a]&&(b.removeEventListener(a,x[b._crumb][a]),delete x[b._crumb][a])},b),this},trigger:function(a,b){return c(this,function(){this[K]._crumb&&x[this[K]._crumb][a]&&x[this[K]._crumb][a]()},b),this},click:function(a,b){return this.on(q,function(a){a.preventDefault(),this._$e=$(this),this._startX=F.isTouch?a.touches[0].pageX:a.pageX,this._startY=F.isTouch?a.touches[0].pageY:a.pageY,this._didMove=!1,this._isPointerDown=!0,this._$e.addClass("pressed")},b),this.on(r,function(a){if(this._isPointerDown){var b=F.isTouch?a.touches[0].pageX:a.pageX,c=F.isTouch?a.touches[0].pageY:a.pageY;this._didMove=Math.abs(b-this._startX)>=10||Math.abs(c-this._startY)>=10,this._didMove&&this._$e&&this._$e.removeClass("pressed")}},b),this.on(s,function(){this._isPointerDown=!1,this._didMove||(this._$e.removeClass("pressed"),a(this._$e))},b),this},each:function(a){for(var b=0;b<this.length;b++)a(this[b]);return this}},document.body.classList||(d=function(a,b,c){var d,e;c=c.split(" ");for(var f=0,g=c.length;g>f;f++){d=new RegExp("( \\b"+c[f]+"\\b|\\b"+c[f]+"\\b |^"+c[f]+"$)");for(var h=0;h<a.length;h++)e=d.test(a[h].className),"add"!==b&&"toggle"!==b||e?"remove"!==b&&"toggle"!==b||!e||(a[h].className=a[h].className.replace(d,"")):a[h].className+=(a[h].className?" ":"")+c[f]}},a.prototype.hasClass=function(a){var b,c=!0;a=a.split(" ");for(var d=0,e=a.length;e>d&&c;d++)b=new RegExp("( \\b"+a[d]+"\\b|\\b"+a[d]+"\\b |^"+a[d]+"$)"),c=c&&b.test(this[0].className);return c});var H=k();v=H.engine,w=H.stylePrefix,F.isTouch="ontouchstart"in document,q=F.isTouch?"touchstart":"mousedown",r=F.isTouch?"touchmove":"mousemove",s=F.isTouch?"touchend":"mouseup",p.engine=v,p.device=F,p.parseJSON=function(a){var b={isSuccess:!1,json:null};try{b.json=JSON.parse(a),b.isSuccess=!0}catch(c){b.error=c}return b},p.ajax=function(a){var b=new XMLHttpRequest,c="",d=void 0===a.contentType||"application/json"===a.contentType;a.type=a.type.toLowerCase(),a.contentType=d?"application/json":a.contentType,a.contentType="get"!==a.type?"application/x-www-form-urlencoded":a.contentType,a.charset=a.charset?a.charset:"UTF-8",b.open(a.type,a.url,!0),b.setRequestHeader("Content-Type",a.contentType+";charset="+a.charset),b.onreadystatechange=function(){if(4===b.readyState)if(200===b.status){var c;if(d){if(c=p.parseJSON(b.responseText),!c.isSuccess)return console.log(c),void(a.parseError?a.parseError(c.e):j("Dough JSON parsing error: "+c.error.name+" - "+c.error.message+". You should handle this error with a .parseError method",!0));c=c.json}a.success(d?c:b.responseText)}else a.error?a.error(b.status):j("Dough AJAX error: Returned "+b.status+". You should handle this error with a .error method",!0)},"object"==typeof a.data&&"get"!==a.type&&(c=i(a.data)),b.send(c)};for(var I=["get","post","put","delete"],J=["get","post","put","del"],K=0,L=I.length;L>K;K++)!function(a,b){p[a]=function(a){a.type=b,p.ajax(a)}}(J[K],I[K]);p.jsonp=function(a){var b=document.createElement("script");b.src=a.url+"?"+(a.cbParam?a.cbParam:"callback")+"="+a.callback+(a.data?"&"+i(a.data):""),b.type="text/javascript",document.head.appendChild(b)},p.transitionEnd=function(a,b,c,d){!t&&n(),a=l(a),D++;var e={id:D,finished:0,required:b.length||1,callback:c,delay:d};if(b.length)for(var f=0;f<b.length;f++)b[f]._tCrumb=D;else b._tCrumb=D;B[D]=e,C[a]||(C[a]=0),C[a]++},p.animationEnd=function(a,b,c,d){!u&&o(),E={name:a,finished:0,required:b,callback:c,delay:d}},window.$=window.$?window.$:p,window.Dough=p}(window);